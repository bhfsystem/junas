#!/usr/bin/env bash

function bootstrap {
  case "$(uname -s)" in
    Linux)
      sudo aptitude install -y vim
      ;;
  esac

  app compile gitsubmodule

  local tmp_scratch="$(mktemp -t XXXXXX)"
  trap "$(printf "rm -f '%q'" "$tmp_scratch")" EXIT
  vim -E -c ":source $tmp_scratch" -c :quit meh || true
  vim -E -c ":source $tmp_scratch" -c :quit meh || true
}

bootstrap
